## 订单数据特点
1. 数据倾斜问题，某个商户数据可能会较大
2. 热数据：3个月内的订单数据，查询实时性较高;
3. 冷数据A：3个月 ~ 12个月前的订单数据，查询频率不高;
4. 冷数据B：1年前的订单数据，几乎不会查询，只有偶尔的查询需求;
5. 冷热数据分离

## 分库
1. 分库，通过商户编号，避免分布式事务，方便数据统计
2. 将分库编号融入到订单号中
3. 分库组：普通组，大商户组

## 订单号
订单号 = (版本号，分片编号，时间，订单编号)
YYYYMMDD_2位系统号_商户编号_主键ID_5位随机码

库号 | 表号 | 时间戳 | 机器号 | 自增序号（随机数）

## 分表策略
1. 按照时间范围分库

## 数据倾斜解决方案



分库分表一定有一个分表健，通过分表健路由到不同库或表，如果不是按照这个维度的查询，
两个方案：1、遍历所有库表，再分页。2、新建这个查询维度的冗余健来做分库分表（也就是说有多个维度的分库分表）

